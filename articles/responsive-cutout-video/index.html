<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta http-equiv="x-ua-compatible" content="ie=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>A Responsive See-through Cutout Text Video Effect &ndash; mgiulio</title>
	<link href="https://fonts.googleapis.com/css?family=Roboto|Oswald|Roboto+Mono" rel="stylesheet">
	<link rel="stylesheet" href="/css/style.css">
</head>
<body class="single">
	
	
<nav class="navbar">
	<ul class="nav-links">
		<li><a href="/articles">Articles</a></li>
	</ul>
</nav>
<article class="post">
	<header class="post-header">
		<h1 class="post-title">A Responsive See-through Cutout Text Video Effect</h1>
		<ul class="post-cats">
			
				<li class="post-cat"><a class="post-cat-link" href="/categories/html">html</a></li>
			
				<li class="post-cat"><a class="post-cat-link" href="/categories/css">css</a></li>
			
				<li class="post-cat"><a class="post-cat-link" href="/categories/sass">sass</a></li>
			
				<li class="post-cat"><a class="post-cat-link" href="/categories/svg">svg</a></li>
			
		</ul>
		<ul class="post-tags">
			
				<li class="post-tag"><a class="post-tag-link" href="/tags/video">video</a></li>
			
				<li class="post-tag"><a class="post-tag-link" href="/tags/clipping">clipping</a></li>
			
				<li class="post-tag"><a class="post-tag-link" href="/tags/text">text</a></li>
			
				<li class="post-tag"><a class="post-tag-link" href="/tags/inkscape">inkscape</a></li>
			
		</ul>
	</header>
	
		

<p>In this article I would like to share some notes on the implementation of an HTML video element playing &lsquo;inside&rsquo; the letters of a covering text, as shown in the following pen:</p>

<p><a href="https://codepen.io/mgiulio/pen/PRgvRQ">Basic pen</a></p>

<p>One key objective was to develop a responsive component, in order to make not only the video scale up and down to fit its parent container, but also to scale the text preserving its size relationship with the underlying video.</p>

<p>I achieved this goal by using the CSS <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/clip-path"><code>clip-path</code></a> property to clip the video against an <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Tutorial/Paths">SVG path</a> defined within a <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/clipPath"><code>clipPath</code></a> element.
The text cutouts were edited with <a href="https://inkscape.org/en/">Inkscape</a>, using some tricks to ease the exporting of the generated SVG code.</p>

<p>In the first demo, the core technique is illustrated. Then, some eye candy is built on top of it in a couple of additional demos.</p>

<h2 id="the-unclipped-video-html">The unclipped video: HTML</h2>

<p>First things first, the markup. Inside the <code>video</code> tag we specify the URLs for the <a href="https://en.wikipedia.org/wiki/WebM">WebM</a> and <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Supported_media_formats">MP4</a> versions of the video, to support a broader range of browsers:</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">video</span>&gt;
	&lt;<span style="color:#f92672">source</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/video/mt-baker.webm&#34;</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;video/webm&#34;</span>&gt;
	&lt;<span style="color:#f92672">source</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/video/mt-baker.mp4&#34;</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;video/mp4&#34;</span>&gt;
&lt;/<span style="color:#f92672">video</span>&gt;</code></pre></div>

<p>Then we add some attributes to customize the video playing behavior:</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html"><span style="display:block;width:100%;background-color:#3c3d38">&lt;<span style="color:#f92672">video</span> <span style="color:#a6e22e">loop</span> <span style="color:#a6e22e">autoplay</span> <span style="color:#a6e22e">muted</span> <span style="color:#a6e22e">playsinline</span>&gt;
</span>	&lt;<span style="color:#f92672">source</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/video/mt-baker.webm&#34;</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;video/webm&#34;</span>&gt;
	&lt;<span style="color:#f92672">source</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/video/mt-baker.mp4&#34;</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;video/mp4&#34;</span>&gt;
&lt;/<span style="color:#f92672">video</span>&gt;</code></pre></div>

<ul>
<li>With <code>loop</code> the video plays forever</li>
<li><code>autoplay</code> and <code>muted</code> are used to allow the automatic video playback at page load on all devices</li>
<li><code>playsinline</code> tries to disable the full-screen expansion of the video when it is played on some mobile devices</li>
</ul>

<p>Finally, a container is wrapped around the video element. This will come in handy when we&rsquo;ll spice up the basic demo with some visual effects.</p>

<p>So, here it is, the markup code for an unclipped video instance:</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;video-container&#34;</span>&gt;
	&lt;<span style="color:#f92672">video</span> <span style="color:#a6e22e">loop</span> <span style="color:#a6e22e">autoplay</span> <span style="color:#a6e22e">muted</span> <span style="color:#a6e22e">playsinline</span>&gt;
		&lt;<span style="color:#f92672">source</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/video/mt-baker.webm&#34;</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;video/webm&#34;</span>&gt;
		&lt;<span style="color:#f92672">source</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/video/mt-baker.mp4&#34;</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;video/mp4&#34;</span>&gt;
	&lt;/<span style="color:#f92672">video</span>&gt;
&lt;/<span style="color:#f92672">div</span>&gt;</code></pre></div>

<h2 id="the-unclipped-video-css">The unclipped video: CSS</h2>

<p>Here, the main task to fulfill is to make the video responsive. It must scale up and down, spanning the width of its parent container and keeping its intrinsic aspect ratio:</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-css" data-lang="css">.<span style="color:#a6e22e">video-container</span> <span style="color:#f92672">video</span> {
	<span style="color:#66d9ef">display</span>: <span style="color:#66d9ef">block</span>;
	<span style="color:#66d9ef">width</span>: <span style="color:#ae81ff">100</span><span style="color:#66d9ef">%</span>;
}</code></pre></div>

<p>After formatting the video as a block-level element with <code>display: block</code>, assigning a 100% value to its width makes it as large as its container. And that&rsquo;s all we need, because the initial <code>auto</code> value of the <code>height</code> property and the video intrinsic aspect ratio <a href="https://www.w3.org/TR/2011/REC-CSS2-20110607/visudet.html#inline-replaced-height">make it</a> uniformly scale, without distortion.</p>

<p>In the demo, to test this responsive behavior, the same video is instantiated several times inside containers of different widths:</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-css" data-lang="css">.<span style="color:#a6e22e">video-container</span> {
    <span style="color:#66d9ef">margin</span>: <span style="color:#ae81ff">40</span><span style="color:#66d9ef">px</span> <span style="color:#66d9ef">auto</span>;
    <span style="color:#66d9ef">outline</span>: <span style="color:#ae81ff">1</span><span style="color:#66d9ef">px</span> <span style="color:#66d9ef">solid</span> <span style="color:#ae81ff">#dadada</span>;
    <span style="color:#960050;background-color:#1e0010">&amp;:nth-of-type(1)</span> <span style="color:#960050;background-color:#1e0010">{</span> <span style="color:#66d9ef">width</span>: <span style="color:#ae81ff">25</span><span style="color:#66d9ef">%</span>; }
    <span style="color:#f92672">&amp;</span>:<span style="color:#a6e22e">nth-of-type</span><span style="color:#f92672">(</span><span style="color:#f92672">2</span><span style="color:#f92672">)</span> { <span style="color:#66d9ef">width</span>: <span style="color:#ae81ff">50</span><span style="color:#66d9ef">%</span>; }
    <span style="color:#f92672">&amp;</span>:<span style="color:#a6e22e">nth-of-type</span><span style="color:#f92672">(</span><span style="color:#f92672">3</span><span style="color:#f92672">)</span> { <span style="color:#66d9ef">width</span>: <span style="color:#ae81ff">75</span><span style="color:#66d9ef">%</span>; }
    <span style="color:#f92672">&amp;</span>:<span style="color:#a6e22e">nth-of-type</span><span style="color:#f92672">(</span><span style="color:#f92672">4</span><span style="color:#f92672">)</span> { <span style="color:#66d9ef">width</span>: <span style="color:#ae81ff">100</span><span style="color:#66d9ef">%</span>; }
<span style="color:#960050;background-color:#1e0010">}</span></code></pre></div>

<p>The <code>outline</code> on the video container shows the location and size of the unclipped video in the page layout.</p>

<h2 id="clipping-the-video">Clipping the video</h2>

<p>Thanks to the <code>clip-path</code> CSS property, clipping the video inside the text is simple:</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-css" data-lang="css"><span style="color:#f92672">video</span> {
    <span style="color:#66d9ef">clip-path</span>: url(<span style="color:#e6db74">#clip-00</span>);
}</code></pre></div>

<p>With the <code>url()</code> function we specify the id of the SVG <code>clipPath</code> element where the clipping text is defined.</p>

<p>Note that although the visible geometry of the video is altered by the clipping, the video element is still a rectangular box for the browser, so the page layout is the same as if the clipping was not used.</p>

<h2 id="creation-of-the-svg-clippath-element">Creation of the SVG <code>clipPath</code> element</h2>

<p>I am going to illustrate a creation, editing and export workflow suitable for Inkscape. I guess similar steps could be put together with other vector editors. Feel free to report your experiences in the comments.</p>

<p>The first step is to keep note of the video aspect ratio, which is its <code>width / height</code> ratio.</p>

<p>Then, in Inkscape, create a document with the same size as the video or just with the same aspect ratio. This will act as a placeholder for the video, so make sure the document borders are visible. Also, remove the default layer created by the program, as this will simplify the code generated by SVG, avoiding the creation of unnecessary <g> group elements.</p>

<p><img src="img/00.jpg" alt="inkscape document" /></p>

<p>Select the Text tool, pick a nice bold and thick font, enter the text and stretch it to cover the document rectangle as you please.</p>

<p><img src="img/01.jpg" alt="stretched text" /></p>

<p>Now, if we take a look at the code generated by Inkscape we see something like this:</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-svg" data-lang="svg"><span style="color:#f92672">&lt;text</span>
    <span style="color:#a6e22e">xml:space=</span><span style="color:#e6db74">&#34;preserve&#34;</span>
    <span style="color:#a6e22e">style=</span><span style="color:#e6db74">&#34;font-style:normal;font-weight:normal;font-size:1147.68029785px;line-height:125%;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1&#34;</span>
    <span style="color:#a6e22e">x=</span><span style="color:#e6db74">&#34;23.404421&#34;</span>
    <span style="color:#a6e22e">y=</span><span style="color:#e6db74">&#34;939.04187&#34;</span>
    <span style="color:#a6e22e">id=</span><span style="color:#e6db74">&#34;text3336&#34;</span>
    <span style="color:#a6e22e">sodipodi:linespacing=</span><span style="color:#e6db74">&#34;125%&#34;</span>
    <span style="color:#a6e22e">transform=</span><span style="color:#e6db74">&#34;scale(0.8988993,1.1124717)&#34;</span>
<span style="color:#f92672">&gt;</span>
    <span style="color:#f92672">&lt;tspan</span>
        <span style="color:#a6e22e">sodipodi:role=</span><span style="color:#e6db74">&#34;line&#34;</span>
        <span style="color:#a6e22e">id=</span><span style="color:#e6db74">&#34;tspan3338&#34;</span>
        <span style="color:#a6e22e">x=</span><span style="color:#e6db74">&#34;23.404421&#34;</span>
        <span style="color:#a6e22e">y=</span><span style="color:#e6db74">&#34;939.04187&#34;</span>
        <span style="color:#a6e22e">style=</span><span style="color:#e6db74">&#34;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:condensed;font-family:Impact;-inkscape-font-specification:&#39;Impact Condensed&#39;&#34;</span>
    <span style="color:#f92672">&gt;</span>
        TEXT
    <span style="color:#f92672">&lt;/tspan&gt;</span>
<span style="color:#f92672">&lt;/text&gt;</span></code></pre></div>

<p>That&rsquo;s a bit unwieldy, so let&rsquo;s convert the SVG <code>&lt;text&gt;</code> element into a path:</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-svg" data-lang="svg"><span style="color:#f92672">&lt;g</span>
    <span style="color:#a6e22e">transform=</span><span style="color:#e6db74">&#34;scale(0.8988993,1.1124717)&#34;</span>
    <span style="color:#a6e22e">style=</span><span style="color:#e6db74">&#34;font-style:normal;font-weight:normal;font-size:1147.68029785px;line-height:125%;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1&#34;</span>
    <span style="color:#a6e22e">id=</span><span style="color:#e6db74">&#34;text3336&#34;</span>
<span style="color:#f92672">&gt;</span>
    <span style="color:#f92672">&lt;path</span>
        <span style="color:#a6e22e">d=</span><span style="color:#e6db74">&#34;m 545.68862,31.769213 0,181.566607 -140.09769,0 0,725.70605 -235.92452,0 0,-725.70605 -139.5373,0 0,-181.566607 515.55951,0 z&#34;</span>
        <span style="color:#a6e22e">style=</span><span style="color:#e6db74">&#34;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:condensed;font-family:Impact;-inkscape-font-specification:&#39;Impact Condensed&#39;&#34;</span>
        <span style="color:#a6e22e">id=</span><span style="color:#e6db74">&#34;path3348&#34;</span> <span style="color:#f92672">/&gt;</span>
    <span style="color:#f92672">&lt;path</span>
        <span style="color:#a6e22e">d=</span><span style="color:#e6db74">&#34;m 599.48616,31.769213 393.39432,0 0,181.566607 -157.46981,0 0,172.03997 147.38277,0 0,172.60036 -147.38277,0 0,199.49911 173.16073,0 0,181.56661 -409.08524,0 0,-907.272657 z&#34;</span>
        <span style="color:#a6e22e">style=</span><span style="color:#e6db74">&#34;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:condensed;font-family:Impact;-inkscape-font-specification:&#39;Impact Condensed&#39;&#34;</span>
        <span style="color:#a6e22e">id=</span><span style="color:#e6db74">&#34;path3350&#34;</span> <span style="color:#f92672">/&gt;</span>
    <span style="color:#f92672">&lt;path</span>
        <span style="color:#a6e22e">d=</span><span style="color:#e6db74">&#34;M 1554.9524,31.769213 1472.575,433.009 l 124.4067,506.03287 -218.5524,0 q -39.2273,-135.61457 -71.73,-330.07016 -8.9662,85.73978 -24.6572,182.127 l -22.4156,147.94316 -229.7602,0 85.1794,-506.03287 -85.1794,-401.239787 228.079,0 q 6.1643,37.546181 24.6572,124.967137 14.5702,66.68651 24.0968,122.16519 l 50.4352,-247.132327 197.8179,0 z&#34;</span>
        <span style="color:#a6e22e">style=</span><span style="color:#e6db74">&#34;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:condensed;font-family:Impact;-inkscape-font-specification:&#39;Impact Condensed&#39;&#34;</span>
        <span style="color:#a6e22e">id=</span><span style="color:#e6db74">&#34;path3352&#34;</span> <span style="color:#f92672">/&gt;</span>
    <span style="color:#f92672">&lt;path</span>
        <span style="color:#a6e22e">d=</span><span style="color:#e6db74">&#34;m 2105.8165,31.769213 0,181.566607 -140.0976,0 0,725.70605 -235.9246,0 0,-725.70605 -139.5373,0 0,-181.566607 515.5595,0 z&#34;</span>
        <span style="color:#a6e22e">style=</span><span style="color:#e6db74">&#34;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:condensed;font-family:Impact;-inkscape-font-specification:&#39;Impact Condensed&#39;&#34;</span>
        <span style="color:#a6e22e">id=</span><span style="color:#e6db74">&#34;path3354&#34;</span> <span style="color:#f92672">/&gt;</span>
<span style="color:#f92672">&lt;/g&gt;</span></code></pre></div>

<p>Now we have a group containing a path element for each letter of the text. Ungrouping it leaves this set of paths at the root level. This step, besides removing the unneeded group, modifies the coordinates of the path elements to account for the transform that was applied to the removed parent group. So, after this step, there are no transform attributes in the SVG:</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-svg" data-lang="svg"><span style="color:#f92672">&lt;path</span>
    <span style="color:#a6e22e">inkscape:connector-curvature=</span><span style="color:#e6db74">&#34;0&#34;</span>
    <span style="color:#a6e22e">id=</span><span style="color:#e6db74">&#34;path3348&#34;</span>
    <span style="color:#a6e22e">style=</span><span style="color:#e6db74">&#34;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:condensed;font-size:medium;line-height:125%;font-family:Impact;-inkscape-font-specification:&#39;Impact Condensed&#39;;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1&#34;</span>
    <span style="color:#a6e22e">d=</span><span style="color:#e6db74">&#34;m 490.51912,35.34235 0,201.98771 -125.93372,0 0,807.32744 -212.07238,0 0,-807.32744 -125.429984,0 0,-201.98771 463.436084,0 z&#34;</span> <span style="color:#f92672">/&gt;</span>
<span style="color:#f92672">&lt;path</span>
    <span style="color:#a6e22e">inkscape:connector-curvature=</span><span style="color:#e6db74">&#34;0&#34;</span>
    <span style="color:#a6e22e">id=</span><span style="color:#e6db74">&#34;path3350&#34;</span>
    <span style="color:#a6e22e">style=</span><span style="color:#e6db74">&#34;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:condensed;font-size:medium;line-height:125%;font-family:Impact;-inkscape-font-specification:&#39;Impact Condensed&#39;;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1&#34;</span>
    <span style="color:#a6e22e">d=</span><span style="color:#e6db74">&#34;m 538.87769,35.34235 353.62188,0 0,201.98771 -141.5495,0 0,191.3896 132.48227,0 0,192.01302 -132.48227,0 0,221.93711 155.65406,0 0,201.98771 -367.72644,0 0,-1009.31515 z&#34;</span> <span style="color:#f92672">/&gt;</span>
  <span style="color:#f92672">&lt;path</span>
    <span style="color:#a6e22e">inkscape:connector-curvature=</span><span style="color:#e6db74">&#34;0&#34;</span>
    <span style="color:#a6e22e">id=</span><span style="color:#e6db74">&#34;path3352&#34;</span>
    <span style="color:#a6e22e">style=</span><span style="color:#e6db74">&#34;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:condensed;font-size:medium;line-height:125%;font-family:Impact;-inkscape-font-specification:&#39;Impact Condensed&#39;;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1&#34;</span>
    <span style="color:#a6e22e">d=</span><span style="color:#e6db74">&#34;m 1397.7456,35.34235 -74.049,446.36791 111.8291,562.94724 -196.4566,0 q -35.2614,-150.86737 -64.478,-367.19371 -8.0597,95.38308 -22.1644,202.61114 l -20.1493,164.58257 -206.5313,0 76.5677,-562.94724 -76.5677,-446.36791 205.02,0 q 5.5411,41.769064 22.1644,139.0224 13.0971,74.18686 21.6606,135.90532 l 45.3362,-274.92772 177.8183,0 z&#34;</span> <span style="color:#f92672">/&gt;</span>
  <span style="color:#f92672">&lt;path</span>
    <span style="color:#a6e22e">inkscape:connector-curvature=</span><span style="color:#e6db74">&#34;0&#34;</span>
    <span style="color:#a6e22e">id=</span><span style="color:#e6db74">&#34;path3354&#34;</span>
    <span style="color:#a6e22e">style=</span><span style="color:#e6db74">&#34;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:condensed;font-size:medium;line-height:125%;font-family:Impact;-inkscape-font-specification:&#39;Impact Condensed&#39;;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1&#34;</span>
    <span style="color:#a6e22e">d=</span><span style="color:#e6db74">&#34;m 1892.917,35.34235 0,201.98771 -125.9337,0 0,807.32744 -212.0724,0 0,-807.32744 -125.43,0 0,-201.98771 463.4361,0 z&#34;</span> <span style="color:#f92672">/&gt;</span></code></pre></div>

<p>Those ugly style attributes are still there, but it doesn&rsquo;t matter because we are not going to use them.</p>

<p>We have finished with Inkscape, so we can save the SVG document and open it in our favorite code editor.</p>

<p>In the HTML page where the video is played, insert an inline SVG element. This will host the clip path:</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-svg" data-lang="svg"><span style="color:#f92672">&lt;svg</span> <span style="color:#a6e22e">class=</span><span style="color:#e6db74">&#34;clipping-paths&#34;</span><span style="color:#f92672">&gt;</span>
	<span style="color:#f92672">&lt;defs&gt;</span>
	<span style="color:#f92672">&lt;/defs&gt;</span>
<span style="color:#f92672">&lt;/svg&gt;</span></code></pre></div>

<p>We don&rsquo;t want this container element to affect the page layout, so:</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-css" data-lang="css">.<span style="color:#a6e22e">clipping-paths</span> {
	<span style="color:#66d9ef">width</span>: <span style="color:#ae81ff">0</span>;
	<span style="color:#66d9ef">height</span>: <span style="color:#ae81ff">0</span>;
	<span style="color:#66d9ef">position</span>: <span style="color:#66d9ef">absolute</span>;
}</code></pre></div>

<p>Add a new <code>clipPath</code> element to the container SVG, with a proper id to identify it in the <code>clip-path</code> property, as seen before:</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-svg" data-lang="svg"><span style="color:#f92672">&lt;svg</span> <span style="color:#a6e22e">class=</span><span style="color:#e6db74">&#34;clipping-paths&#34;</span><span style="color:#f92672">&gt;</span>
	<span style="color:#f92672">&lt;defs&gt;</span>
		<span style="color:#f92672">&lt;clipPath</span> <span style="color:#a6e22e">id=</span><span style="color:#e6db74">&#34;clip-00&#34;</span><span style="color:#f92672">&gt;&lt;/clipPath&gt;</span>
		<span style="color:#f92672">&lt;clipPath</span> <span style="color:#a6e22e">id=</span><span style="color:#e6db74">&#34;clip-01&#34;</span><span style="color:#f92672">&gt;&lt;/clipPath&gt;</span>
		...
	<span style="color:#f92672">&lt;/defs&gt;</span>
<span style="color:#f92672">&lt;/svg&gt;</span></code></pre></div>

<p>As showed in the above snippet, multiple clipping paths can be added if needed.</p>

<p>Now we must assign the <code>objectBoundingBox</code> value to the <code>clipPath</code>&rsquo;s attribute <code>clipPathUnits</code>:</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-svg" data-lang="svg"><span style="color:#f92672">&lt;clipPath</span> <span style="color:#a6e22e">id=</span><span style="color:#e6db74">&#34;clip-00&#34;</span> <span style="color:#a6e22e">clipPathUnits=</span><span style="color:#e6db74">&#34;objectBoundingBox&#34;</span><span style="color:#f92672">&gt;&lt;/clipPath&gt;</span></code></pre></div>

<p>This is one of the essential things to do to have a responsive cutout. Indeed, in this way we tell the browser which coordinate system to use for the numerical values listed in the <code>d</code> attributes of the paths that will be appended to the <code>clipPath</code> element.</p>

<p>The default value for the <code>clipPathUnits</code> attribute is <code>userSpaceOnUse</code>. This <a href="https://www.w3.org/TR/SVG/masking.html#EstablishingANewClippingPath">means</a> that &ldquo;<em>the contents of the (clipPath) element represent values in the current user coordinate system in place at the time when the (clipPath)element is referenced (i.e., the user coordinate system for the element referencing the <code>clipPath</code> element via the clip-path property)</em>&rdquo;.</p>

<p>Instead, by using the other available value for <code>clipPathUnits</code>, <code>objectBoundingBox</code>, the coordinate values and the lengths specified in the <code>clipPath</code> content are considered as fractional values in the [0,1] range, relative to the bounding box of the clipped element. For instance, if a graphical primitive in the <code>clipPath</code> referred to the coordinates (0,0), (1,0), (1,1), (0,1) and (0.5,0.5), these points would represent respectively, the top left, top right, bottom right, bottom left corners, and the center of the video, no matter the actual size of the video on screen. It is this behavior that allows the text cutout to scale in the same way as the underlying video.</p>

<p>After having removed any transforms from the SVG file in Inkscape in the above steps, now all the numerical values of the path elements are in the document range. To map them into the [0,1] interval required for <code>objectBoundingBox</code>, it is sufficient to divide such numerical values by the document size. The x coordinates are divided by the document width and the y coordinates by the document height.</p>

<p>To accomplish this division, a scaling with the SVG <code>transform</code> attribute can be employed:</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-svg" data-lang="svg"><span style="color:#f92672">&lt;clipPath</span> <span style="color:#a6e22e">id=</span><span style="color:#e6db74">&#34;clip-00&#34;</span> <span style="color:#a6e22e">clipPathUnits=</span><span style="color:#e6db74">&#34;objectBoundingBox&#34;</span> <span style="color:#a6e22e">transform=</span><span style="color:#e6db74">&#34;scale(0.0005208333333333333, 0.000925925925925926)&#34;</span><span style="color:#f92672">&gt;</span></code></pre></div>

<p>The horizontal scaling must be the reciprocal of the document width, while the vertical scaling must be the reciprocal of the document height. So, in our case, given that the document has the same exact size as the video, that is, <code>1920 X 1080</code>, we get the two factors <code>1 / 1920 = 0.0005208333333333333</code> and  <code>1 / 1080 = 0.000925925925925926</code>.</p>

<p>The last step in this workflow is to copy the <code>&lt;path&gt;</code> elements from the file generated by Inkscape inside the <code>clipPath</code> element, getting something like this:</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-svg" data-lang="svg"><span style="color:#f92672">&lt;clipPath</span> <span style="color:#a6e22e">id=</span><span style="color:#e6db74">&#34;clip-00&#34;</span> <span style="color:#a6e22e">clipPathUnits=</span><span style="color:#e6db74">&#34;objectBoundingBox&#34;</span> <span style="color:#a6e22e">transform=</span><span style="color:#e6db74">&#34;scale(0.0005208333333333333, 0.000925925925925926)&#34;</span><span style="color:#f92672">&gt;</span>
	<span style="color:#f92672">&lt;path</span> <span style="color:#a6e22e">d=</span><span style="color:#e6db74">&#34;m 341.4087,58.040727 0,951.927273 -112.60986,0 -66.8335,-432.74767 0,432.74767 -107.42188,0 0,-951.927273 107.42188,0 72.02149,428.631863 0,-428.631863 107.42187,0 z&#34;</span> <span style="color:#f92672">/&gt;</span>
	...
	<span style="color:#f92672">&lt;path</span> <span style="color:#a6e22e">d=</span><span style="color:#e6db74">&#34;m 1642.6782,58.040727 214.2334,0 0,190.503053 -85.7544,0 0,180.50751 80.2613,0 0,181.09549 -80.2613,0 0,209.31816 94.2994,0 0,190.50306 -222.7784,0 0,-951.927273 z&#34;</span> <span style="color:#f92672">/&gt;</span>
<span style="color:#f92672">&lt;/clipPath&gt;</span></code></pre></div>

<p>As said before, we have copied just the <code>d</code> attribute of the paths, discarding all the other stuff generated by Inkscape.</p>

<h2 id="putting-it-all-together">Putting it all together</h2>

<p>And there we have it, gluing together the above snippets with some more code(see the pen source for details), we get the first basic demo:</p>

<p><a href="https://codepen.io/mgiulio/pen/PRgvRQ">basic pen</a></p>

<h2 id="some-more-cutouts">Some more cutouts</h2>

<p>We can reuse the above workflow to create some more cutouts, like in the second demo here:</p>

<p><a href="https://codepen.io/mgiulio/pen/geJoVw">outer-cutouts</a></p>

<p>The last example is worthy of attention because it is the &lsquo;negative&rsquo; of the text used in the first demo, that is, the internal and external regions delimited by the paths were swapped. So, the white text we see is a hole through which the background color of the page body is visible. This &lsquo;negative&rsquo; cutout was derived from the original with a <a href="http://tavmjong.free.fr/INKSCAPE/MANUAL/html/Paths-Combining.html">difference path operation</a> in Inkscape.</p>

<h2 id="adding-some-background-colors">Adding some background colors</h2>

<p>Building on top of the basic demo, we can add a color to the text cutout, just by assigning a background color to the video container, because this wrapper element is visible everywhere the video is clipped out:</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scss" data-lang="scss"><span style="color:#a6e22e">.video-container</span> {
	<span style="color:#75715e">// ...
</span><span style="color:#75715e"></span>	<span style="color:#66d9ef">&amp;</span><span style="color:#a6e22e">:nth-of-type</span><span style="color:#f92672">(</span><span style="color:#f92672">1</span><span style="color:#f92672">)</span> { <span style="color:#f92672">background</span><span style="color:#a6e22e">:</span> #c6c7c5<span style="color:#f92672">;</span> }
	<span style="color:#66d9ef">&amp;</span><span style="color:#a6e22e">:nth-of-type</span><span style="color:#f92672">(</span><span style="color:#f92672">2</span><span style="color:#f92672">)</span> { <span style="color:#f92672">background</span><span style="color:#a6e22e">:</span> #dcf3ff<span style="color:#f92672">;</span> }
	<span style="color:#66d9ef">&amp;</span><span style="color:#a6e22e">:nth-of-type</span><span style="color:#f92672">(</span><span style="color:#f92672">3</span><span style="color:#f92672">)</span> { <span style="color:#f92672">background</span><span style="color:#a6e22e">:</span> #a2d2df<span style="color:#f92672">;</span> }
	<span style="color:#66d9ef">&amp;</span><span style="color:#a6e22e">:nth-of-type</span><span style="color:#f92672">(</span><span style="color:#f92672">4</span><span style="color:#f92672">)</span> { <span style="color:#f92672">background</span><span style="color:#a6e22e">:</span> #406e8d<span style="color:#f92672">;</span> }
	<span style="color:#66d9ef">&amp;</span><span style="color:#a6e22e">:nth-of-type</span><span style="color:#f92672">(</span><span style="color:#f92672">5</span><span style="color:#f92672">)</span> { <span style="color:#f92672">background</span><span style="color:#a6e22e">:</span> <span style="color:#f92672">linear-gradient</span><span style="color:#f92672">(</span><span style="color:#f92672">180deg</span><span style="color:#f92672">,</span> #bdc3c2<span style="color:#f92672">,</span> #2d5d89<span style="color:#f92672">);</span> }
}</code></pre></div>

<p>The result can be seen in the third demo:</p>

<p><a href="https://codepen.io/mgiulio/pen/vRwdNG">bg-colors</a></p>

<h2 id="adding-some-tint">Adding some tint</h2>

<p>How about tinting the video?</p>

<p><a href="https://codepen.io/mgiulio/pen/MVdQKq">tinting</a></p>

<p>We can do that with a pseudo element and <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/blend-mode">CSS Blend Modes</a>:</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-css" data-lang="css">.<span style="color:#a6e22e">video-container</span> {
	<span style="color:#75715e">/* ... */</span> 
	<span style="color:#66d9ef">position</span>: <span style="color:#66d9ef">relative</span>;
}

.<span style="color:#a6e22e">video-container</span>::<span style="color:#a6e22e">after</span> {
	<span style="color:#66d9ef">content</span>: <span style="color:#e6db74">&#39;&#39;</span>;
	<span style="color:#66d9ef">position</span>: <span style="color:#66d9ef">absolute</span>;
	<span style="color:#66d9ef">top</span>: <span style="color:#ae81ff">0</span>;
	<span style="color:#66d9ef">left</span>: <span style="color:#ae81ff">0</span>;
	<span style="color:#66d9ef">right</span>: <span style="color:#ae81ff">0</span>;
	<span style="color:#66d9ef">bottom</span>: <span style="color:#ae81ff">0</span>;
	<span style="color:#66d9ef">clip-path</span>: url(<span style="color:#e6db74">#clip-00</span>);
}
        
.<span style="color:#a6e22e">video-container</span>:<span style="color:#a6e22e">nth-of-type</span><span style="color:#f92672">(</span><span style="color:#f92672">1</span><span style="color:#f92672">)</span> {
	<span style="color:#66d9ef">background</span>: <span style="color:#ae81ff">#406e8d</span>;
}
.<span style="color:#a6e22e">video-container</span>:<span style="color:#a6e22e">nth-of-type</span><span style="color:#f92672">(</span><span style="color:#f92672">1</span><span style="color:#f92672">)</span>::<span style="color:#a6e22e">after</span> {
	<span style="color:#66d9ef">background-color</span>: <span style="color:#ae81ff">#3f51b5</span>;
	<span style="color:#66d9ef">mix-blend-mode</span>: <span style="color:#66d9ef">screen</span>;
}</code></pre></div>

<p>The <code>::after</code> pseudo element of the video wrapper is absolutely positioned on top of the video, covering it entirely, and then it is clipped with the same path used for the video. In this way, it is possible to use different colors for the background and the tint.</p>

<p>Finally, after having assigned the desired tint color to the pseudo element, with the <code>mix-blend-mode</code> property we can pick one of the available blending modes to obtain the wanted effect.</p>

<h2 id="support">Support</h2>

<p>At the time of writing, almost all the latest versions of desktop and mobile browsers <a href="https://caniuse.com/#search=clip-path">support</a> the CSS <code>clip-path</code> property. The prefixed version, <code>-webkit-clip-path</code>, has to be used on WebKit-based user agents such as Safari and Samsung Internet.</p>

<p>Unfortunately, an exception is given by the Microsoft browsers. There is definitely no support on Internet Explorer, and on Edge the feature is <a href="https://developer.microsoft.com/en-us/microsoft-edge/platform/status/masks/">under development</a>. It is possible to vote for the development on the relative <a href="https://wpdev.uservoice.com/forums/257854-microsoft-edge-developer/suggestions/6519995-support-clip-path-property#{toggle_previous_statuses}">Microsoft Developer Feedback page</a>.</p>

<p>Of course, for the last demo, a browser supporting CSS Blend Modes is required. In this case the <a href="https://caniuse.com/#search=blend%20modes">support is wider</a>, being this feature implemented even by MS Edge.</p>

<h2 id="references-and-credits">References and credits</h2>

<p>In <cite><a href="http://meyerweb.com/eric/thoughts/2017/02/24/scaling-svg-clipping-paths-for-css-use/">Scaling SVG Clipping Paths for CSS Use</a></cite>, <a href="http://meyerweb.com/">Eric Meyer</a> writes about the scaling of the SVG clipping path for an HTML element, using the <code>objectBoundingBox</code> value for the <code>clipPathUnits</code> attribute, and the scaling transform.</p>

<p>The video played in the demos is the &lsquo;Mt_Baker&rsquo; item from <a href="http://www.coverr.co/#coverrs">Coverr</a>.</p>

	
</article>

<section class="comments">
	<div id="disqus_thread"></div>
	<script>
		var disqus_config = function () {
			
			
		};
		(function() {
			var d = document, s = d.createElement('script');
			s.src = 'https://mgiulio.disqus.com/embed.js';
			s.setAttribute('data-timestamp', +new Date());
			(d.head || d.body).appendChild(s);
		})();
	</script>
	<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>                            

</body>
</html>